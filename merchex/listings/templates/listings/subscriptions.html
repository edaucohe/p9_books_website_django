{% extends 'listings/base.html' %}

{% block content %}

    <h1>Abonnements</h1>
    <br>
    <p>Suivez d'autres utilisateurs !</p>

    <form method="post" novalidate enctype="multipart/form-data">
        {{ followed_form.as_p }}
        <button type="submit" >Suivre</button>
    </form>

    <div class="grid-container">
        <p class="message">{{ message }}</p>
        <br>
        <h3 class="title">Mes abonnements</h3>
        {% for followed_user_object in followed_user_objects %}
            <div class="post">
                <p>followed_user_object : {{ followed_user_object }}</p>
                <p class="user_follow">{{ followed_user_object.followed_user }}</p>
                <p class="unfollow"><a href="{% url 'unfollow' followed_user_object.id %}">Se désabonner</a></p>
            </div>
        {% endfor %}

        <h3 class="title">Mes abonnés</h3>
        {% for follower_user_object in follower_user_objects %}
            <div class="post">
                <p class="user_follow">{{ follower_user_object.user }} | {{ follower_user_object.followed_user }}</p>
            </div>
        {% endfor %}

    </div>

{% endblock %}